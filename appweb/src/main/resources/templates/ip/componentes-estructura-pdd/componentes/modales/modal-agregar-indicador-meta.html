<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">

<title>Insert title here</title>
</head>
<body>
	<div class="modal fade" id="agregarIndicadorMeta" tabindex="-1"
		role="dialog" aria-labelledby="exampleModalCenterTitle"
		aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered" role="document">
			<div class="modal-content">
				<div class="modal-header bg2">
					<div class="row">
						<div class="col-sm-5">
							<img id="logo-segPlan" src="/Segplan/css/img/icono-seg.png">
						</div>
						<div class="col-sm-7">
							<span class="titulo" style="font-size: 16px;">Agregar
								indicadores meta resultado</span>
						</div>
					</div>
					<button type="button" class="close" data-dismiss="modal"
						aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<div class="form-container2">
                      <form id="formAgregarMetaIndicador" th:object="${indicador}" method="post">
                     
						<div class="row mt-2">
							<div class="col-sm-8">
								<div class="texto">
									<label>Meta de resultado</label>
								</div>
							</div>
						</div>
						<div class="row mt-1">
							<div class="col-sm-12">
								<input type="text" readonly="readonly" class="form-control" id="metaResultadoId"
								name="idMetaResultado">
							</div>
						</div>
						<div class="row mt-2">
							<div class="col-sm-8">
								<div class="texto">
									<label>Indicador meta de resultado</label>
								</div>
							</div>
						</div>
						<div class="row mt-1">
							<div class="col-sm-12">
								<input type="text" readonly="readonly" class="form-control" id="idIndicadorMetaAgregar">
							</div>
						</div>
						<div class="row mt-2">
							<div class="col-sm-12">
								<div class="texto">
									<label>Denominación/descripción:*</label>
								</div>
							</div>
						</div>
						<div class="row mt-1">
							<div class="col-sm-12">
								<textarea rows="3" cols="3" class="form-control" id="areaDescripcion"
								maxlength="200" name="nombre"></textarea>
							</div>
						</div>
						<div class="row mt-2">
							<div class="col-sm-6">
								<div class="texto">
									<label>Magnitud:*</label>
								</div>
							</div>
							<div class="col-sm-6">
								<div class="texto">
									<label>Periodicidad:*</label>
								</div>
							</div>
						</div>
						<div class="row mt-1">
							<div class="col-sm-6">
								<input type="number" class="form-control" id="idMagnitudAgregar" maxlength="20" name="magnitud">
							</div>
							<div class="col-sm-6">
								<input type="number" class="form-control" id="idPeriodicidad" maxlength="20" name="periodicidad">
							</div>
						</div>
						<div class="row mt-2">
							<div class="col-sm-12">
								<div class="texto">
									<label>Fuente externa:*</label>
								</div>
							</div>
						</div>
						<div class="row mt-1">
							<div class="col-sm-12">
								<select class="form-control" id="idExterna" name="fuenteExterna">
								<option value="">Selecione una opción</option>
								<option value="1">Si</option>
								<option value="0">No</option>
								</select>
							</div>
						</div>
						<div class="row mt-2">
							<div class="col-sm-12">
								<div class="texto">
									<label>Fuente:</label>
								</div>
							</div>
						</div>
						<div class="row mt-1">
							<div class="col-sm-12">
								<input type="text" class="form-control" id="idFuente" maxlength="500" name="fuente">
							</div>
						</div>
						<div class="row mt-2">
							<div class="col-sm-6">
								<div class="texto">
									<label>Línea base:*</label>
								</div>
							</div>
							<div class="col-sm-6">
								<div class="texto">
									<label>Magnitud línea base:*</label>
								</div>
							</div>
						</div>
						<div class="row mt-1">
							<div class="col-sm-6">
								<select class="form-control" id="idLinea" name="lineaBase">
								<option value="">Seleccione una opción</option>
								<option value="1">Si</option>
								<option value="0">No</option>
								</select>
							</div>
							<div class="col-sm-6">
									<input type="number" class="form-control" id="idMagnitudLinea"
										maxlength="20" name="magnitudLb">
								</div>
						</div>
						<div class="row mt-2">
							<div class="col-sm-12">
								<div class="texto">
									<label>Descripción línea base:*</label>
								</div>
							</div>
						</div>
						<div class="row mt-1">
							<div class="col-sm-12">
									<input type="text" class="form-control" id="descripcionLinea"
										maxlength="200" name="lineaBaseDesc">
								</div>
						</div><br>
						<div class="col-md-12">
								<div class="hr"></div>
							</div>
							<br>
						<div class="float-right">
								<a href="#" data-dismiss="modal" id="cancelar">Cancelar</a><span>&nbsp;&nbsp;</span>
								<button class="botonAgregarIndicadorMeta" name="btnAgregarNivel1" type="submit"
									id="boton-modal">
									<img src="css/img/icono-guardar.png" class="guardar"
										alt="Icono guardar">&nbsp;&nbsp;Guardar
								</button>
							</div>
							</form>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
<script type="text/javascript">
$(document).ready(function() {
	
	 $("#idLinea").change(function() {
		 var lineaBase = $(this).val();
		 
		 if (lineaBase === "1"){
			 $("#idMagnitudLinea").prop('disabled', false);
			 $("#descripcionLinea").prop('disabled', false);
		 } else if (lineaBase === "0"){
			 $("#idMagnitudLinea").prop('disabled', true);
			 $("#descripcionLinea").prop('disabled', true);
		 }
	 });
	 
	 $('.botonAgregarIndicadorMeta').click(function () {  
		 var idIndicador = document.getElementById("metaResultadoId").value;
		 var denominacion = document.getElementById("areaDescripcion").value;
		 var magnitud = document.getElementById("idMagnitudAgregar").value;
		 var perio = document.getElementById("idPeriodicidad").value;
		 var fuenteExterna = document.getElementById("idExterna").value;
		 var fuente = document.getElementById("idFuente").value;
		 var lineaBase = document.getElementById("idLinea").value;
		 var magLinea = document.getElementById("idMagnitudLinea").value;
		 var descripcionLinea = document.getElementById("descripcionLinea").value;

		 
		 
		 if (denominacion == "" || magnitud == "" || perio == "" || fuenteExterna == "" ||
				 fuente == "" || lineaBase == "" || idIndicador == ""){
			 Swal.fire({
			        title:"¡Advertencia!",
				    text: "Existen campos obligatorios que no se han registrado",
			        icon: "warning",
			        confirmButtonText: 'Aceptar',
			        allowOutsideClick: () => false
		   })
		   
		    return false; 
			 
		 }
		 if (lineaBase == "1" && magLinea == "" && descripcionLinea == ""){
			 Swal.fire({
		        title:"¡Advertencia!",
			    text: "Existen campos obligatorios que no se han registrado",
		        icon: "warning",
		        confirmButtonText: 'Aceptar',
		        allowOutsideClick: () => false
	   })
	   
	    return false;
		 }
		
		
		 
	 });
	
});
</script>
</html>