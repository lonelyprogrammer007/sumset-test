<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
</head>

<div class="modal fade" id="modalFiltroProblematica" tabindex="-1" role="dialog"
	aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered" role="document">
		<div class="modal-content">
			<div class="modal-header bg2">
				<div class="row">
					<div class="col-5 col-sm-3 col-md-5 col-lg-5">
						<img id="logo-segPlan" th:src="@{/css/img/icono-seg.png}">
					</div>
					<div class="col-7 col-sm-3 col-md-7 col-lg-7">
						<span class="tituloEsp">Filtrar Problem치tica</span>
					</div>
				</div>
				<button type="button" class="close" data-dismiss="modal"
					aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
				<div class="form-container2">
					
						
						<div class="col-lg-12 col-md-15">
							<div class="form-group">
								<div class="texto">
									<label for="codigo_comp">Compromiso:*</label>
								</div>
								<select id="idCompromisoFiltro" style="width: 100% !important" class="form-control selection js-example-basic-single" 
									>
									<option value="">Selecciona una opci칩n</option>
									
								</select>
							</div>
						</div>
						<div class="col-lg-12 col-md-15">
							<div class="form-group">
								<div class="texto">
									<label for="nombre_componente">Problem치tica:*</label>
								</div>
								<select style="width: 100% !important" class="form-control selection js-example-basic-single" 
									id="problematicaFiltro">
									<option value="">Selecciona una opci칩n</option>
								</select>

							</div>
						</div>
						
						<div class="col-md-12">
							<div class="hr"></div>
						</div>
						<br>
						<div align="right">
							<a href="#" data-dismiss="modal" id="cancelar">Cancelar</a> <span>&nbsp;&nbsp;</span>
							<button type="submit" class="myFormButton filtroButton" name="save"
								id="btn-modal">Aplicar</button>
						</div>

					
				</div>
			</div>
		</div>
	</div>
</div>
<script th:inline="javascript">
$(document).ready(function() {
	$('.js-example-basic-single').select2({
		minimumResultsForSearch : Infinity
	})
	/*<![CDATA[*/
		

	
    $("#idCompromisoFiltro").change(function() { 
    	var compromiso = $(this).val();
    	console.log(compromiso)
    	var problematicas = /*[[${problematicas}]]*/;
    	console.log(problematicas);
    	var select = document.getElementById("problematicaFiltro");
		select.innerHTML = '<option value="">Seleccione una opcion</option>';
    	for (var i = 0; i < problematicas.length; i++) {
    		
			if(compromiso==problematicas[i].idCompromiso){
				let opcion = document.createElement('option')
        		
	       		 opcion.value = problematicas[i].idProblematica;
	       		 opcion.text = problematicas[i].problematica;
	       	     select.add(opcion);
			}
		}
    });
	/*]]>*/
	
	
});
</script>